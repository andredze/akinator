
--------------------------------------------------
TXLib предупреждает:

Программа: D:\Coding\akinator\run.exe,

ВНЕЗАПНО: Нарушение доступа к памяти.

#2: Исключение EXCEPTION_ACCESS_VIOLATION (0xC0000005) при выполнении кода по адресу 0x00007FFC431B1B23 в функции wtoi(). Попытка записать данные по адресу 0x00007FF743BB90A3 в модуле C:\Windows\System32\ucrtbase.dll. Спасибо _txVectoredExceptionHandler(), что сообщил. Люблю его <3

#1: TXLib [Ver: 00173a, Rev: 174, Date: 2025-08-17 06:00:49 +0400], Instance: 0x00007FF643BB9010 (64-bit), Flags: Cmdre0, Thread: 0x2DFC (Main), GetLastError(): 317 (Не удается найти текст сообщения с номером 0x%1 в файле сообщений %2). 

--------------------------------------------------
Стек вызовов:

# 0 0x00007FFC431B1B23 in C:\Windows\System32\ucrtbase.dll: wtoi()
# 1 0x00007FFC431B2304 in C:\Windows\System32\ucrtbase.dll: wctomb_s_l()
# 2 0x00007FFC431B2FCB in C:\Windows\System32\ucrtbase.dll: _stdio_common_vsprintf_s()

# 3 0x00007FF643B27102 in D:\Coding\akinator\run.exe: _vsnprintf_s_l() at C:/Users/qisel/gcc/x86_64-w64-mingw32/include/stdio.h:425:

    423: {
    424:   return __mingw_vfprintf( __stream, __format, __local_argv );
=>  425: }
    426: 
    427: __mingw_ovr

# 4 0x00007FF643B270A2 in D:\Coding\akinator\run.exe: _vsnprintf_s() at C:/Users/qisel/gcc/x86_64-w64-mingw32/include/stdio.h:425:

    423: {
    424:   return __mingw_vfprintf( __stream, __format, __local_argv );
=>  425: }
    426: 
    427: __mingw_ovr

# 5 0x00007FF643A25FD2 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_tx_vsnprintf_s() at D:/TX/TXLib.h:13076
# 6 0x00007FF643A25F6D in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_tx_snprintf_s() at D:/TX/TXLib.h:13063
# 7 0x00007FF643A1C3F6 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txDumpExceptionSEH() at D:/TX/TXLib.h:11770
# 8 0x00007FF643A1AD92 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txOnExceptionSEH() at D:/TX/TXLib.h:11650
# 9 0x00007FF643A1A52E in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txVectoredExceptionHandler() at D:/TX/TXLib.h:11546
#10 0x00007FFC454A9B4C in C:\Windows\SYSTEM32\ntdll.dll: RtlDeleteAce()
#11 0x00007FFC45482376 in C:\Windows\SYSTEM32\ntdll.dll: RtlRaiseException()
#12 0x00007FFC454822A7 in C:\Windows\SYSTEM32\ntdll.dll: RtlRaiseException()
#13 0x00007FFC42B65369 in C:\Windows\System32\KERNELBASE.dll: RaiseException()
#14 0x00007FFC257AA1EB in C:\Windows\System32\msxml6.dll: DllRegisterServer()
#15 0x00007FFC2573436A in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#16 0x00007FFC257358F4 in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#17 0x00007FFC25735676 in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#18 0x00007FFC2577520C in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#19 0x00007FFC25774CFE in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#20 0x00007FFC0C2CCFD4 in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#21 0x00007FFC0C2C536B in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#22 0x00007FFC0C2BBA55 in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#23 0x00007FFC0C2BD66B in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#24 0x00007FF643A3183D in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::txSpeak() at D:/TX/TXLib.h:14443

#25 0x00007FF643A38089 in D:\Coding\akinator\run.exe: SpeakFlush() at D:/Coding/akinator/src/speak.cpp:77:

     75:     sprintf(tx_speak_buffer, "<speak><prosody rate=\"fast\">%s</prosody></speak>", speak_buffer);
     76: 
=>   77:     if (txSpeak(tx_speak_buffer) == EOF)
     78:     {
     79:         PRINTERR("txSpeak failed");

#26 0x00007FF643A01F86 in D:\Coding\akinator\run.exe: main() at D:/Coding/akinator/src/main.cpp:21:

     19: 
     20:     Speak(NULL, "писюн");
=>   21:     SpeakFlush();
     22: 
     23:     AkinatorCtx_t ak_ctx = {};

--------------------------------------------------
Стек вызовов TX:

# 0 in intptr_t {anonymous}::TX::_txDumpExceptionSEH(char*, intptr_t, const EXCEPTION_RECORD*, const char*) at D:\TX\TXLib.h:11770:

  11768:                             GetModuleHandle ("NTDLL.DLL"), code, MAKELANGID (LANG_NEUTRAL, SUBLANG_DEFAULT),
  11769:                             s, (DWORD) (size - (s-what)), NULL) - 2;  //-V202
=>11770: $       PRINT_ ("\r\r");
  11771:         }
  11772: 

# 1 in long int {anonymous}::TX::_txOnExceptionSEH(EXCEPTION_POINTERS*, const char*) at D:\TX\TXLib.h:11650:

  11648: $       const char* stackTrace = _txCaptureStackBackTrace (0, true, exc->ContextRecord, exc);
  11649: 
=>11650: $       _txDumpExceptionSEH (_txDumpSE,  (intptr_t) sizeof (_txDumpSE)  - 1, exc->ExceptionRecord, func);
  11651: $       _tx_snprintf_s      (_txTraceSE, (intptr_t) sizeof (_txTraceSE) - 1, "%s", stackTrace);
  11652: 

# 2 in int {anonymous}::TX::txSpeak(const char*, ...) at D:\TX\TXLib.h:14443:

  14441:         {
  14442: $       Win32::_fpreset();
=>14443: $       voice->Speak (textW, SPF_PERSIST_XML | SPF_PURGEBEFORESPEAK | ((*textW == '<')? SPF_IS_XML : 0) | (async? SPF_ASYNC : 0), NULL);
  14444: $       tx_fpreset();
  14445:         }

# 3 in int SpeakFlush() at src/speak.cpp:77:

     75:     sprintf(tx_speak_buffer, "<speak><prosody rate=\"fast\">%s</prosody></speak>", speak_buffer);
     76: 
=>   77:     if (txSpeak(tx_speak_buffer) == EOF)
     78:     {
     79:         PRINTERR("txSpeak failed");

--------------------------------------------------
Developed with:

The Dumb Artist Library (TX Library)
TXLib [Ver: 00173a, Rev: 174, Date: 2025-08-17 06:00:49 +0400]
Copyright (C) Ded (Ilya Dedinsky, http://txlib.ru) <mail@txlib.ru>
See license on: http://txlib.ru

TXLib file:	D:\TX\TXLib.h
Compiled:	Nov 15 2025 11:00:31, GNU g++ 15.1.0, std=201703L, MinGW-W64 Runtime 12.0.0 (alpha - rev. 0) 0000-00-00, 64-bit, DEBUG
Started:	Nov 15 2025 11:00:37

Run file:	D:\Coding\akinator\run.exe
Directory:	D:\Coding\akinator

--------------------------------------------------

--------------------------------------------------
TXLib соболезнует...

Программа: D:\Coding\akinator\run.exe,

ВНЕЗАПНО: signal (11, 0x00): SIGSEGV: Доступ по неверному указателю. Ставьте ассерты! 

Нарушение доступа к памяти.

#2: Исключение EXCEPTION_ACCESS_VIOLATION (0xC0000005) при выполнении кода по адресу 0x00007FFC431B1B23 в функции wtoi(). Попытка записать данные по адресу 0x00007FF743BB90A3 в модуле C:\Windows\System32\ucrtbase.dll. Спасибо _txVectoredExceptionHandler(), что сообщил. Люблю его <3

С помощью функции signal() вы можете сами обработать эту ошибку.

#2: TXLib [Ver: 00173a, Rev: 174, Date: 2025-08-17 06:00:49 +0400], Instance: 0x00007FF643BB9010 (64-bit), Flags: Cmdre0, Thread: 0x2DFC (Main). 

--------------------------------------------------
Стек вызовов:

# 0 0x00007FFC431B1B23 in C:\Windows\System32\ucrtbase.dll: wtoi()
# 1 0x00007FFC431B2304 in C:\Windows\System32\ucrtbase.dll: wctomb_s_l()
# 2 0x00007FFC431B2FCB in C:\Windows\System32\ucrtbase.dll: _stdio_common_vsprintf_s()

# 3 0x00007FF643B27102 in D:\Coding\akinator\run.exe: _vsnprintf_s_l() at C:/Users/qisel/gcc/x86_64-w64-mingw32/include/stdio.h:425:

    423: {
    424:   return __mingw_vfprintf( __stream, __format, __local_argv );
=>  425: }
    426: 
    427: __mingw_ovr

# 4 0x00007FF643B270A2 in D:\Coding\akinator\run.exe: _vsnprintf_s() at C:/Users/qisel/gcc/x86_64-w64-mingw32/include/stdio.h:425:

    423: {
    424:   return __mingw_vfprintf( __stream, __format, __local_argv );
=>  425: }
    426: 
    427: __mingw_ovr

# 5 0x00007FF643A25FD2 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_tx_vsnprintf_s() at D:/TX/TXLib.h:13076
# 6 0x00007FF643A25F6D in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_tx_snprintf_s() at D:/TX/TXLib.h:13063
# 7 0x00007FF643A1C3F6 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txDumpExceptionSEH() at D:/TX/TXLib.h:11770
# 8 0x00007FF643A1AD92 in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txOnExceptionSEH() at D:/TX/TXLib.h:11650
# 9 0x00007FF643A1A52E in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::_txVectoredExceptionHandler() at D:/TX/TXLib.h:11546
#10 0x00007FFC454A9B4C in C:\Windows\SYSTEM32\ntdll.dll: RtlDeleteAce()
#11 0x00007FFC45482376 in C:\Windows\SYSTEM32\ntdll.dll: RtlRaiseException()
#12 0x00007FFC454822A7 in C:\Windows\SYSTEM32\ntdll.dll: RtlRaiseException()
#13 0x00007FFC42B65369 in C:\Windows\System32\KERNELBASE.dll: RaiseException()
#14 0x00007FFC257AA1EB in C:\Windows\System32\msxml6.dll: DllRegisterServer()
#15 0x00007FFC2573436A in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#16 0x00007FFC257358F4 in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#17 0x00007FFC25735676 in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#18 0x00007FFC2577520C in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#19 0x00007FFC25774CFE in C:\Windows\System32\msxml6.dll: DllGetClassObject()
#20 0x00007FFC0C2CCFD4 in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#21 0x00007FFC0C2C536B in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#22 0x00007FFC0C2BBA55 in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#23 0x00007FFC0C2BD66B in C:\Windows\System32\Speech\Common\sapi.dll: DllUnregisterServer()
#24 0x00007FF643A3183D in D:\Coding\akinator\run.exe: (anonymous namespace)::TX::txSpeak() at D:/TX/TXLib.h:14443

#25 0x00007FF643A38089 in D:\Coding\akinator\run.exe: SpeakFlush() at D:/Coding/akinator/src/speak.cpp:77:

     75:     sprintf(tx_speak_buffer, "<speak><prosody rate=\"fast\">%s</prosody></speak>", speak_buffer);
     76: 
=>   77:     if (txSpeak(tx_speak_buffer) == EOF)
     78:     {
     79:         PRINTERR("txSpeak failed");

#26 0x00007FF643A01F86 in D:\Coding\akinator\run.exe: main() at D:/Coding/akinator/src/main.cpp:21:

     19: 
     20:     Speak(NULL, "писюн");
=>   21:     SpeakFlush();
     22: 
     23:     AkinatorCtx_t ak_ctx = {};

--------------------------------------------------
Стек вызовов TX:

# 0 in intptr_t {anonymous}::TX::_txDumpExceptionSEH(char*, intptr_t, const EXCEPTION_RECORD*, const char*) at D:\TX\TXLib.h:11770:

  11768:                             GetModuleHandle ("NTDLL.DLL"), code, MAKELANGID (LANG_NEUTRAL, SUBLANG_DEFAULT),
  11769:                             s, (DWORD) (size - (s-what)), NULL) - 2;  //-V202
=>11770: $       PRINT_ ("\r\r");
  11771:         }
  11772: 

# 1 in long int {anonymous}::TX::_txOnExceptionSEH(EXCEPTION_POINTERS*, const char*) at D:\TX\TXLib.h:11650:

  11648: $       const char* stackTrace = _txCaptureStackBackTrace (0, true, exc->ContextRecord, exc);
  11649: 
=>11650: $       _txDumpExceptionSEH (_txDumpSE,  (intptr_t) sizeof (_txDumpSE)  - 1, exc->ExceptionRecord, func);
  11651: $       _tx_snprintf_s      (_txTraceSE, (intptr_t) sizeof (_txTraceSE) - 1, "%s", stackTrace);
  11652: 

# 2 in int {anonymous}::TX::txSpeak(const char*, ...) at D:\TX\TXLib.h:14443:

  14441:         {
  14442: $       Win32::_fpreset();
=>14443: $       voice->Speak (textW, SPF_PERSIST_XML | SPF_PURGEBEFORESPEAK | ((*textW == '<')? SPF_IS_XML : 0) | (async? SPF_ASYNC : 0), NULL);
  14444: $       tx_fpreset();
  14445:         }

# 3 in int SpeakFlush() at src/speak.cpp:77:

     75:     sprintf(tx_speak_buffer, "<speak><prosody rate=\"fast\">%s</prosody></speak>", speak_buffer);
     76: 
=>   77:     if (txSpeak(tx_speak_buffer) == EOF)
     78:     {
     79:         PRINTERR("txSpeak failed");

--------------------------------------------------
Developed with:

The Dumb Artist Library (TX Library)
TXLib [Ver: 00173a, Rev: 174, Date: 2025-08-17 06:00:49 +0400]
Copyright (C) Ded (Ilya Dedinsky, http://txlib.ru) <mail@txlib.ru>
See license on: http://txlib.ru

TXLib file:	D:\TX\TXLib.h
Compiled:	Nov 15 2025 11:00:31, GNU g++ 15.1.0, std=201703L, MinGW-W64 Runtime 12.0.0 (alpha - rev. 0) 0000-00-00, 64-bit, DEBUG
Started:	Nov 15 2025 11:00:37

Run file:	D:\Coding\akinator\run.exe
Directory:	D:\Coding\akinator

--------------------------------------------------
